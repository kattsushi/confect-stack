{
  "name": "@monorepo/backend",
  "sourceRoot": "apps/backend",
  "projectType": "application",
  "targets": {
    "dev": {
      "executor": "nx:run-commands",
      "dependsOn": ["generate-error-types"],
      "options": {
        "commands": ["convex dev", "pnpm watch:error-types"],
        "parallel": true,
        "cwd": "apps/backend"
      }
    },
    "dev:setup": {
      "executor": "nx:run-commands",
      "options": {
        "command": "convex dev --configure --until-success",
        "cwd": "apps/backend"
      }
    },
    "deploy": {
      "executor": "nx:run-commands",
      "options": {
        "command": "convex deploy",
        "cwd": "apps/backend"
      }
    },
    "check-types": {
      "executor": "nx:run-commands",
      "dependsOn": ["generate-error-types"],
      "options": {
        "command": "tsc --noEmit",
        "cwd": "apps/backend"
      }
    },
    "generate-error-types": {
      "executor": "nx:run-commands",
      "options": {
        "command": "confect-generate",
        "cwd": "apps/backend"
      },
      "inputs": [
        "{projectRoot}/convex/**/*.ts",
        "!{projectRoot}/convex/_generated/**",
        "!{projectRoot}/convex/_generated-types/**"
      ],
      "outputs": ["{projectRoot}/convex/_generated-types"]
    },
    "watch-error-types": {
      "executor": "nx:run-commands",
      "options": {
        "command": "confect-generate --watch",
        "cwd": "apps/backend"
      }
    }
  },
  "tags": ["type:backend", "platform:convex"]
}
